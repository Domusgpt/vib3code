<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <base href="/vib3code/">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="VIB3CODE - Where elegant code meets digital freedom. Modern development without vendor lock-in.">
    <meta name="keywords" content="VIB3CODE, coding, development, digital freedom, parserator, no vendor lock-in">
    
    <title>VIB3CODE - Digital Magazine for EMA Movement - FORCE v1749970345</title>
    
    <!-- Cyberpunk Dark Theme with Enhanced Parallax -->
    <link rel="stylesheet" href="styles/dark-vib3.css">
    <link rel="stylesheet" href="styles/parallax.css">
    <link rel="stylesheet" href="styles/sections.css">
    <link rel="stylesheet" href="styles/magazine.css">
    <link rel="stylesheet" href="styles/magazine-enhanced.css">
    <!-- Embedded Glassmorphic UI Styles -->
    <style>
        /* VIB3CODE Glassmorphic UI - Context-Aware Design */
        .glass-element,
        .nav-header,
        .magazine-nav,
        .content-card,
        .interactive-card,
        .section-header,
        .filter-controls,
        .announcement-card,
        .parserator-card,
        footer {
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            background: rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 8px 32px 0 rgba(0, 255, 255, 0.1),
                inset 0 0 0 1px rgba(255, 255, 255, 0.05),
                inset 0 -20px 40px -20px rgba(255, 0, 255, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .content-card:hover,
        .interactive-card:hover {
            backdrop-filter: blur(18px);
            background: rgba(0, 0, 0, 0.12);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
        }
        
        /* Section-specific neon glows */
        [data-section="home"] .glass-element {
            box-shadow: 0 0 30px rgba(0, 217, 255, 0.5);
        }
        
        [data-section="articles"] .glass-element {
            box-shadow: 0 0 30px rgba(51, 204, 255, 0.5);
        }
        
        [data-section="videos"] .glass-element {
            box-shadow: 0 0 30px rgba(255, 51, 127, 0.5);
        }
        
        [data-section="podcasts"] .glass-element {
            box-shadow: 0 0 30px rgba(255, 127, 0, 0.5);
        }
        
        [data-section="ema"] .glass-element {
            box-shadow: 0 0 30px rgba(127, 0, 255, 0.5);
        }
        
        /* Enhanced visualizer canvas */
        #visualizer-canvas {
            position: fixed !important;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        /* Magazine content with glassmorphic backdrop */
        .magazine-content {
            position: relative;
            z-index: 1;
            backdrop-filter: blur(2px);
        }
        
        /* Parameter indicator */
        .parameter-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            backdrop-filter: blur(10px);
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 15px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
            z-index: 100;
        }
        
        .parameter-indicator .param {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
        }
        
        .parameter-indicator .param-value {
            color: #00d9ff;
            font-weight: bold;
        }
    </style>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíª</text></svg>">
    
    <!-- Open Graph -->
    <meta property="og:title" content="VIB3CODE - Code Without Chains">
    <meta property="og:description" content="Where elegant code meets digital freedom. Modern development without vendor lock-in.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vib3code.com">
    
    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Initializing VIB3CODE...</div>
        </div>
    </div>

    <!-- 4D Visualizer Background -->
    <!-- HyperAV will create its own canvas dynamically -->
    
    <!-- Parallax Layers -->
    <div class="parallax-layer" data-speed="0.2" id="bg-layer-1"></div>
    <div class="parallax-layer" data-speed="0.5" id="bg-layer-2"></div>
    <div class="parallax-layer" data-speed="0.8" id="bg-layer-3"></div>
    
    <!-- Navigation -->
    <nav class="nav-cyber" id="main-nav">
        <div class="nav-content">
            <a href="/" class="logo-cyber">
                <span class="logo-text">VIB<a href="/ppp-alpha.html" style="color: inherit; text-decoration: none;" title=" ">3</a>CODE</span>
                <span class="logo-pulse"></span>
            </a>
            
            <div class="nav-links">
                <!-- Navigation will be dynamically updated by magazine router -->
                <a href="#home" class="nav-link active" data-section="home">Home</a>
                <a href="#articles" class="nav-link" data-section="articles">Articles</a>
                <a href="#videos" class="nav-link" data-section="videos">Videos</a>
                <a href="#podcasts" class="nav-link" data-section="podcasts">Podcasts</a>
                <a href="#ema" class="nav-link" data-section="ema">E.M.A</a>
                <a href="https://parserator.com" class="nav-link" target="_blank">Parserator</a>
            </div>
            
            <button class="nav-toggle" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Hide ALL old static content and show only magazine content -->
    <style>
        /* Hide all static sections completely - magazine router takes over */
        .hero-cyber,
        .section-cyber,
        .hero-content,
        section:not(.magazine-section),
        main,
        .container-cyber,
        .grid-cyber,
        .ema-grid,
        .newsletter-cyber,
        .pattern-overlay,
        .floating-elements {
            display: none !important;
            visibility: hidden !important;
        }
        
        /* Ensure magazine content is visible and properly positioned */
        .magazine-content {
            display: block !important;
            min-height: 100vh;
            padding-top: 80px;
            position: relative;
            z-index: 1;
        }
        
        .magazine-section {
            display: block !important;
            width: 100%;
        }
        
        /* Force immediate visibility of home section */
        .magazine-section#section-home {
            display: block !important;
            opacity: 1 !important;
        }
    </style>

    <!-- Magazine Content Container - MOVED ABOVE FOOTER -->
    <div class="magazine-content">
        <!-- Dynamic sections will be loaded here by the magazine router -->
    </div>

    <!-- Footer -->
    <footer class="footer-cyber">
        <div class="container-cyber">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>üí° Development</h3>
                    <div class="footer-links">
                        <a href="/articles" class="footer-link">Articles</a>
                        <a href="/patterns" class="footer-link">Design Patterns</a>
                        <a href="/apis" class="footer-link">API Design</a>
                        <a href="/migration" class="footer-link">Migration Guides</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>üìö Content</h3>
                    <div class="footer-links">
                        <a href="/tutorials" class="footer-link">Tutorials</a>
                        <a href="/videos" class="footer-link">Video Content</a>
                        <a href="/podcasts" class="footer-link">Podcasts</a>
                        <a href="/case-studies" class="footer-link">Case Studies</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>‚ö° Parserator</h3>
                    <div class="footer-links">
                        <a href="/parserator" class="footer-link">Platform</a>
                        <a href="/parserator/docs" class="footer-link">Documentation</a>
                        <a href="/parserator/examples" class="footer-link">Examples</a>
                        <a href="/parserator/export" class="footer-link">Export Tools</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>üåê Community</h3>
                    <div class="footer-links">
                        <a href="/discord" class="footer-link">Discord</a>
                        <a href="/github" class="footer-link">GitHub</a>
                        <a href="/contribute" class="footer-link">Contribute</a>
                        <a href="/newsletter" class="footer-link">Newsletter Archive</a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p class="footer-brand">
                    <strong class="brand-text">VIB3CODE</strong> - Code Without Chains
                </p>
                <p class="footer-description">
                    We build technology that respects developers and users. This site has full data portability, 
                    open source components, and clear migration paths. 
                    <a href="/philosophy" class="footer-link-inline">View our development philosophy</a>.
                </p>
                
                <div class="footer-legal">
                    <a href="/legal" class="footer-link">Legal</a>
                    <a href="/privacy" class="footer-link">Privacy</a>
                    <a href="/export-data" class="footer-link">Export Data</a>
                    <a href="/source-code" class="footer-link">Source Code</a>
                    <button onclick="regenerateTheme()" class="footer-link theme-regenerate" style="background: none; border: none; color: inherit; cursor: pointer; text-decoration: underline;">üé® New Publication</button>
                </div>
            </div>
        </div>
    </footer>


    <!-- Core Scripts - FORCE CACHE REFRESH - 2025-06-14 18:05 -->
    <!-- Full HyperAV Integration System -->
    <script src="js/hyperav-loader.js?v=1749968723"></script>
    <script src="js/vib3-visualizer-integration.js?v=1749968723"></script>
    <script src="js/theme-engine-clean.js?v=1749968723"></script>
<script src="js/content-templates.js?v=1750014474"></script>
    <script src="js/magazine-router.js?v=1749968723"></script>
    <script src="js/editorial-ai-clean.js?v=1749968723"></script>
    <script src="js/interactive-features.js?v=1749968723"></script>
    <script src="js/main-fixed.js?v=1749968723"></script>
    <script src="js/parallax-fixed.js?v=1749968723"></script>
    
    <!-- ENHANCED HYPERAV INTEGRATION - PPPkernel + GEN-RL-MillZ Fusion -->
    <script src="js/hyperav-integration-enhanced.js?v=2.0"></script>
    <script>
        console.log('üöÄ VIB3CODE ENHANCED HYPERAV INTEGRATION v2.0 LOADING...');
        
        // Enhanced VIB3 Visualizer Integration with Agentic Control
        class VIB3VisualizerIntegration {
            constructor() {
                this.enhancedSystem = null;
                this.isActive = false;
                this.state = {
                    currentSection: 'home',
                    scrollPosition: 0,
                    scrollVelocity: 0,
                    mousePosition: { x: 0.5, y: 0.5 },
                    clickIntensity: 0,
                    readingMetrics: {
                        timeOnPage: 0,
                        engagement: 0.5,
                        contentComplexity: 0.5,
                        scrollProgress: 0
                    }
                };
                
                this.sectionPresets = {
                    home: {
                        geometry: 'hypercube',
                        mood: 'dynamic',
                        primary: '#00d9ff', secondary: '#ff0080', background: '#020010'
                    },
                    articles: {
                        geometry: 'editorial',
                        mood: 'focused-reading',
                        primary: '#e6e6e6', secondary: '#3366ff', background: '#000208'
                    },
                    videos: {
                        geometry: 'hypersphere',
                        mood: 'engaging',
                        primary: '#ff3366', secondary: '#33ff66', background: '#050005'
                    },
                    interactives: {
                        geometry: 'hypertetrahedron',
                        mood: 'dynamic-showcase',
                        primary: '#ff8800', secondary: '#00ccff', background: '#020200'
                    },
                    philosophy: {
                        geometry: 'hypersphere',
                        mood: 'philosophical-depth',
                        primary: '#8800ff', secondary: '#00ff88', background: '#000005'
                    }
                };
            }
            
            async init() {
                try {
                    console.log('üé® Initializing Enhanced VIB3 Visualizer...');
                    
                    // Initialize enhanced PPPkernel + GEN-RL-MillZ fusion system
                    this.enhancedSystem = new VIB3CodeEnhancedVisualizerIntegration();
                    const success = await this.enhancedSystem.init();
                    
                    if (success) {
                        this.isActive = true;
                        this.setupAdvancedTracking();
                        this.setupReadingMetrics();
                        console.log('‚úÖ Enhanced VIB3 Visualizer Integration ready');
                    } else {
                        console.warn('üé® Enhanced system failed, using fallback mode');
                        this.setupFallbackMode();
                    }
                } catch (error) {
                    console.warn('üé® Enhanced visualizer error:', error);
                    this.setupFallbackMode();
                }
                
                this.applySectionPreset('home');
                this.startReadingTimer();
            }
            
            setupAdvancedTracking() {
                var self = this;
                var lastScrollY = window.scrollY;
                
                window.addEventListener('scroll', function() {
                    var currentScrollY = window.scrollY;
                    self.state.scrollVelocity = currentScrollY - lastScrollY;
                    self.state.scrollPosition = currentScrollY;
                    
                    // Calculate scroll progress
                    var docHeight = document.documentElement.scrollHeight - window.innerHeight;
                    self.state.readingMetrics.scrollProgress = docHeight > 0 ? currentScrollY / docHeight : 0;
                    
                    lastScrollY = currentScrollY;
                    
                    // Send to enhanced system
                    if (self.enhancedSystem) {
                        self.enhancedSystem.readingMetrics = self.state.readingMetrics;
                        self.enhancedSystem.updateVisualizerData();
                    }
                    
                    // Fallback to legacy system
                    if (window.HolographicVisualizer) {
                        var speed = 0.2 + Math.abs(self.state.scrollVelocity) * 0.001;
                        window.HolographicVisualizer.config.rotationSpeed = speed;
                    }
                    
                    self.updateParameterDisplay();
                });
                
                document.addEventListener('mousemove', function(e) {
                    self.state.mousePosition.x = e.clientX / window.innerWidth;
                    self.state.mousePosition.y = e.clientY / window.innerHeight;
                    self.updateParameterDisplay();
                });
                
                document.addEventListener('click', function() {
                    self.state.clickIntensity = 1.0;
                    self.state.readingMetrics.engagement = Math.min(1.0, self.state.readingMetrics.engagement + 0.1);
                    
                    setTimeout(function() {
                        self.state.clickIntensity = Math.max(0.0, self.state.clickIntensity - 0.2);
                    }, 200);
                });
            }
            
            setupFallbackMode() {
                console.log('üé® Using fallback visualizer mode');
                this.setupScrollTracking();
                this.setupMouseTracking(); 
                this.setupClickTracking();
            }
            
            setupScrollTracking() {
                var self = this;
                var lastScrollY = window.scrollY;
                
                window.addEventListener('scroll', function() {
                    var currentScrollY = window.scrollY;
                    self.state.scrollVelocity = currentScrollY - lastScrollY;
                    self.state.scrollPosition = currentScrollY;
                    lastScrollY = currentScrollY;
                    
                    if (window.HolographicVisualizer) {
                        var speed = 0.2 + Math.abs(self.state.scrollVelocity) * 0.001;
                        window.HolographicVisualizer.config.rotationSpeed = speed;
                    }
                    
                    self.updateParameterDisplay();
                });
            }
            
            setupMouseTracking() {
                var self = this;
                
                document.addEventListener('mousemove', function(e) {
                    self.state.mousePosition.x = e.clientX / window.innerWidth;
                    self.state.mousePosition.y = e.clientY / window.innerHeight;
                    
                    if (window.HolographicVisualizer) {
                        var intensity = Math.sqrt(
                            Math.pow(self.state.mousePosition.x - 0.5, 2) + 
                            Math.pow(self.state.mousePosition.y - 0.5, 2)
                        );
                        window.HolographicVisualizer.config.patternIntensity = 1.0 - intensity;
                    }
                    
                    self.updateParameterDisplay();
                });
            }
            
            setupClickTracking() {
                var self = this;
                
                document.addEventListener('click', function() {
                    self.state.clickIntensity = 1.0;
                    
                    if (window.HolographicVisualizer) {
                        window.HolographicVisualizer.config.universeModifier = 1.5;
                        
                        setTimeout(function() {
                            window.HolographicVisualizer.config.universeModifier = 1.0;
                        }, 500);
                    }
                });
            }
            
            setupReadingMetrics() {
                var self = this;
                
                // Track content complexity based on section
                if (window.MagazineRouter && window.MagazineRouter.navigateToSection) {
                    var originalNavigate = window.MagazineRouter.navigateToSection;
                    window.MagazineRouter.navigateToSection = function(section, itemId) {
                        originalNavigate.call(window.MagazineRouter, section, itemId);
                        self.applySectionPreset(section);
                        
                        // Update content complexity
                        var complexityMap = {
                            'home': 0.7,
                            'articles': 0.4,
                            'videos': 0.6,
                            'interactives': 0.9,
                            'philosophy': 0.8
                        };
                        self.state.readingMetrics.contentComplexity = complexityMap[section] || 0.5;
                    };
                }
            }
            
            startReadingTimer() {
                var self = this;
                var startTime = Date.now();
                
                setInterval(function() {
                    self.state.readingMetrics.timeOnPage = Date.now() - startTime;
                    
                    // Update engagement based on time and interactions
                    var minutes = self.state.readingMetrics.timeOnPage / 1000 / 60;
                    if (minutes > 1) {
                        self.state.readingMetrics.engagement = Math.min(1.0, 0.3 + (minutes * 0.1));
                    }
                }, 5000);
            }
            
            applySectionPreset(section) {
                console.log('üé® Applying enhanced visualizer preset for section:', section);
                var preset = this.sectionPresets[section] || this.sectionPresets.home;
                
                if (this.enhancedSystem && this.isActive) {
                    // Use enhanced system with agentic control
                    this.enhancedSystem.applySectionPreset(section);
                    
                    if (preset.mood) {
                        this.enhancedSystem.setEditorialMood(preset.mood);
                    }
                } else {
                    // Fallback to legacy system
                    if (window.HolographicVisualizer && window.HolographicVisualizer.updateTheme) {
                        window.HolographicVisualizer.updateTheme({
                            primary: preset.primary,
                            secondary: preset.secondary,
                            background: preset.background
                        });
                    }
                }
                
                this.state.currentSection = section;
                this.updateParameterDisplay();
            }
            
            // Legacy compatibility
            applySectionTheme(themeKey) {
                this.applySectionPreset(themeKey);
            }
            
            updateParameterDisplay() {
                var sectionEl = document.getElementById('param-section');
                var scrollEl = document.getElementById('param-scroll');
                var mouseEl = document.getElementById('param-mouse');
                var activityEl = document.getElementById('param-activity');
                var engagementEl = document.getElementById('param-engagement');
                
                if (sectionEl) sectionEl.textContent = this.state.currentSection;
                if (scrollEl) scrollEl.textContent = Math.round(this.state.scrollVelocity);
                if (mouseEl) mouseEl.textContent = 
                    Math.round(this.state.mousePosition.x * 100) / 100 + ', ' + 
                    Math.round(this.state.mousePosition.y * 100) / 100;
                
                if (activityEl) {
                    var activity = 'idle';
                    if (Math.abs(this.state.scrollVelocity) > 10) activity = 'scrolling';
                    else if (this.state.clickIntensity > 0.1) activity = 'clicking';
                    else if (Math.abs(this.state.mousePosition.x - 0.5) > 0.1 || 
                            Math.abs(this.state.mousePosition.y - 0.5) > 0.1) activity = 'hovering';
                    activityEl.textContent = activity;
                }
                
                if (engagementEl) {
                    engagementEl.textContent = Math.round(this.state.readingMetrics.engagement * 100) + '%';
                }
            }
        }
        
        // Auto-initialize enhanced system
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üîç Checking enhanced components...');
            console.log('üì¶ VIB3CodeEnhancedVisualizerIntegration:', !!window.VIB3CodeEnhancedVisualizerIntegration);
            console.log('üì¶ HolographicVisualizer:', !!window.HolographicVisualizer);
            
            // Initialize enhanced visualizer
            window.VIB3VisualizerIntegration = new VIB3VisualizerIntegration();
            await window.VIB3VisualizerIntegration.init();
            
            // Ensure magazine content loads
            setTimeout(function() {
                if (window.MagazineRouter && window.MagazineRouter.navigateToSection) {
                    var magazineContent = document.querySelector('.magazine-content');
                    if (magazineContent && !magazineContent.innerHTML.trim()) {
                        window.MagazineRouter.navigateToSection('home');
                    }
                }
            }, 1000);
        });
    </script>
    
    <!-- VIB3 Visualizer Parameter Display -->
    <div class="parameter-indicator" id="vib3-param-display">
        <div class="param">
            <span>Section:</span>
            <span class="param-value" id="param-section">home</span>
        </div>
        <div class="param">
            <span>Scroll:</span>
            <span class="param-value" id="param-scroll">0</span>
        </div>
        <div class="param">
            <span>Mouse:</span>
            <span class="param-value" id="param-mouse">0.5, 0.5</span>
        </div>
        <div class="param">
            <span>Activity:</span>
            <span class="param-value" id="param-activity">idle</span>
        </div>
        <div class="param">
            <span>Engagement:</span>
            <span class="param-value" id="param-engagement">50%</span>
        </div>
    </div>

    <!-- Audio Context Warning for Safari -->
    <div id="audio-warning" class="audio-warning" style="display: none;">
        <div class="warning-content">
            <p>üéµ Click anywhere to enable audio visualization</p>
            <button id="enable-audio" class="btn-cyber btn-small">Enable Audio</button>
        </div>
    </div>
</body>
</html>
